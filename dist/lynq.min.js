!function(){"use strict";function t(){const e=["detectBrowser","tti","totalJSHeapSize","observeLCP","604806gygRaj","Safari","SESSION_DURATION","trackEvent","Opera","disconnect","stringify","dcl","calculateMaxSessionGap","detectOS","initiatorType","paint","charAt","SESSION_ID","performanceTracker","2967572qXbJfE","hidden","length","Failed to initialize performance tracking:","observers","isDestroyed","initial-custom-event","pathname","pageLoadId","Firefox","page-view","isSessionExpired","usedJSHeapSize","visibilitychange","resource","getOrCreateClientId","sessionId","error","hadRecentInput","observePaint","CUSTOM_EVENT","push","duration","largest-contentful-paint","readyState","startsWith","setupEventListeners","reduce","Vista","getEntriesByType","setupResourceTracking","sendAnalyticsRequest","au_se","inp","2502411vpIPan","entries","setupNavigationTracking","getEntries","getItem","SESSION_START","mutationObserver","userAgent","generateSessionId","observeCLS","href","addEventListener","location","startTime","fcp","observeINP","value","3223568HyrBNp","interactionTimes","lcp","hashchange","initializeLynq","randomUUID","6582528KieQlK","STORAGE_KEYS","session","destroy","memory","toString","dataDomain","CLIENT_ID","sessionInterval","max","removeEventListener","first-input","custom-event","detect","web-vitals","PerformanceObserver","au_si","initialPathname","toUpperCase","clientId","resources","lynqQueue","EXPIRATION","session-start","sendFinalMetrics","nextHopProtocol","analyticsTracker","performance","updateCLS","setupVisibilityTracking","interactionCount","replace"," observer:","refreshSession","first-contentful-paint","your_tracking","sort","ENDPOINT","Edge","event","Failed to create ","http://localhost:3000/api/lynq","random","slice","session-end","expirationTime","resourceObserver","3172687JNrOSo","load","visible","initializeTracking","complete","8.1","collectPerformanceMetrics","metrics","observe","ttfb","undefined","initializeSession","20MLEzLJ","bind","navigation","name","finalMetricsSent","Failed to manage client ID:","createObserver","floor","trackPageView","now","application/json","lynq","layout-shift","24SfsOoM","Unknown","referrer","clear","longtask","Direct","setItem","setupPerformanceObservers","observeLongTasks","isPerformanceSupported","substring","au_ci","transferSize","883391BXJLPr","EVENTS","cls","vital","collectNavigationMetrics","forEach","beforeunload","scriptElement"];return(t=function(){return e})()}function e(s,i){const n=t();return(e=function(t,e){return n[t-=367]})(s,i)}(function(t){const s=e,i=t();for(;;)try{if(840274===-parseInt(s(384))/1+parseInt(s(462))/2+-parseInt(s(445))/3+-parseInt(s(411))/4+-parseInt(s(527))/5*(parseInt(s(396))/6)+-parseInt(s(515))/7*(-parseInt(s(371))/8)+parseInt(s(468))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}})(t),function(){const t=e,s={ENDPOINT:t(509),SESSION_DURATION:6e5,STORAGE_KEYS:{SESSION_ID:t(484),EXPIRATION:t(443),CLIENT_ID:t(382)},EVENTS:{PAGE_VIEW:t(421),SESSION_START:t(491),SESSION_END:t(512),ERROR:t(428),PERFORMANCE:t(495),CORE_VITAL:t(387),WEB_VITALS:t(482),CUSTOM_EVENT:t(480),INITIAL_CUSTOM_EVENT:t(417)},PERFORMANCE:{MAX_LCP_TIME:5e3,METRIC_TYPES:{NAVIGATION:t(529),PAINT:t(407),LARGEST_CONTENTFUL_PAINT:"largest-contentful-paint",LAYOUT_SHIFT:"layout-shift",FIRST_INPUT:t(479),RESOURCE:t(425),LONG_TASK:"longtask"}}};class i{[t(481)](e){return{...this[t(392)](e),os:this.detectOS(e)}}[t(392)](e){const s=t,i=[{pattern:/Edg\/([0-9.]+)/i,name:s(506)},{pattern:/OPR\/([0-9.]+)/i,name:s(400)},{pattern:/Chrome\/([0-9.]+)/i,name:"Chrome"},{pattern:/Firefox\/([0-9.]+)/i,name:s(420)},{pattern:/Safari\/([0-9.]+)/i,name:s(397)}];for(const t of i){if(e.match(t.pattern))return t[s(530)]}return s(372)}[t(405)](e){const s=t,i={windows:{pattern:/Windows NT ([0-9.]+)/i,versions:{"10.0":"10",6.3:s(520),6.2:"8",6.1:"7","6.0":s(439),5.2:"XP 64-bit",5.1:"XP"}},mac:{pattern:/Mac OS X ([0-9._]+)/i,clean:t=>t[s(499)](/_/g,".")},ios:{pattern:/OS ([0-9._]+) like Mac OS X/i,clean:t=>t[s(499)](/_/g,".")},android:{pattern:/Android ([0-9.]+)/i},linux:{pattern:/Linux/i}};for(const[t,n]of Object[s(446)](i)){if(e.match(n.pattern))return t[s(408)](0)[s(486)]()+t[s(511)](1)}return s(372)}}class n{constructor(e){const s=t;this[s(494)]=e,this[s(415)]=new Map,this[s(522)]={lcp:0,cls:0,inp:0,fcp:0,ttfb:0,tbt:0,dcl:0,load:0,tti:0,resources:[],interactionCount:0,totalJSHeapSize:0,usedJSHeapSize:0},this.interactionTimes=[],this[s(531)]=!1,this[s(380)]()&&this.initializeTracking()}isPerformanceSupported(){const e=t;return typeof window!==e(525)&&window[e(495)]&&window[e(483)]}[t(518)](){const e=t;try{this.setupPerformanceObservers(),this[e(447)](),this[e(441)](),this[e(497)]()}catch(t){console[e(428)](e(414),t)}}[t(378)](){const e=t;this[e(533)](e(407),this.observePaint.bind(this)),this[e(533)](e(464),this[e(395)][e(528)](this)),this[e(533)](e(386),this[e(454)][e(528)](this)),this[e(533)](e(444),this[e(460)][e(528)](this)),this[e(533)]("longtasks",this[e(379)].bind(this))}[t(533)](e,s){const i=t;try{const t=s();t&&this[i(415)].set(e,t)}catch(t){console[i(428)](i(508)+e+i(500),t)}}[t(430)](){const s=t;return new PerformanceObserver((t=>{const s=e;t[s(448)]()[s(389)]((t=>{const e=s;t[e(530)]===e(502)&&(this[e(522)][e(459)]=t[e(458)])}))}))[s(523)]({type:s(407),buffered:!0})}observeLCP(){const s=t,i=new PerformanceObserver((t=>{const s=e;t[s(448)]()[s(389)]((t=>{const e=s;t[e(458)]>this.metrics[e(464)]&&(this[e(522)][e(464)]=t[e(458)])}))}));return i.observe({type:s(434),buffered:!0}),i}[t(454)](){const s=t;let i=[];return new PerformanceObserver((t=>{const s=e;t[s(448)]().forEach((t=>{const e=s;!t[e(429)]&&(i=this[e(496)](i,t))}))})).observe({type:s(370),buffered:!0})}[t(496)](e,s){const i=t,n=[...e,s];return this[i(522)][i(386)]=this.calculateMaxSessionGap(n),n}[t(404)](e){const s=t;let i=0,n=[],r=0;return e[s(389)]((t=>{const e=s;!n[e(413)]||t[e(458)]-r<1e3?n[e(432)](t):(i=Math[e(477)](i,n[e(438)](((t,s)=>t+s[e(461)]),0)),n=[t],r=t[e(458)])})),Math[s(477)](i,n[s(438)](((t,e)=>t+e.value),0))}[t(460)](){const s=t;return new PerformanceObserver((t=>{const s=e,i=t[s(448)]();if(this[s(522)][s(498)]+=i.length,i[s(389)]((t=>{const e=s;this.interactionTimes[e(432)](t[e(433)])})),this.interactionTimes[s(413)]>0){const t=[...this[s(463)]][s(504)](((t,e)=>t-e)),e=Math[s(534)](.75*t[s(413)]);this[s(522)].inp=t[e]}})).observe({type:s(507),buffered:!0,durationThreshold:16})}observeLongTasks(){const s=t;let i=0;return new PerformanceObserver((t=>{const s=e;t[s(448)]()[s(389)]((t=>{const e=s,n=t[e(433)]-50;n>0&&(i+=n,this[e(522)].tbt=i)}))}))[s(523)]({type:s(375),buffered:!0})}[t(447)](){const e=t;document[e(435)]===e(519)?this[e(388)]():document.addEventListener("readystatechange",(()=>{const t=e;document.readyState===t(519)&&this[t(388)]()}))}[t(388)](){const e=t,s=performance.getEntriesByType(e(529))[0];s&&(this.metrics[e(403)]=s.domContentLoadedEventStart,this.metrics[e(516)]=s.loadEventStart,this[e(522)][e(524)]=s.responseStart,this[e(522)][e(393)]=s.domInteractive)}setupResourceTracking(){const s=t;this.resourceObserver=new PerformanceObserver((t=>{const s=e;t[s(448)]().forEach((t=>{const e=s;t[e(383)]>0&&t.duration>100&&this[e(522)][e(488)][e(432)]({name:t[e(530)],type:t[e(406)],duration:t[e(433)],transferSize:t[e(383)],startTime:t.startTime,protocol:t[e(493)]||""})}))})),this[s(514)][s(523)]({type:s(425),buffered:!0})}setupVisibilityTracking(){const e=t;window[e(456)](e(424),(()=>{const t=e;document.visibilityState===t(412)&&this[t(492)]()})),window[e(456)](e(390),(()=>{this[e(492)]()}))}[t(521)](){const e=t;performance[e(472)]&&(this[e(522)][e(394)]=performance[e(472)][e(394)],this[e(522)][e(423)]=performance[e(472)].usedJSHeapSize),this[e(522)].resourceCount=performance[e(440)]("resource").length}[t(492)](){const e=t;!this[e(531)]&&(this[e(531)]=!0,this.collectPerformanceMetrics(),this[e(494)].trackEvent(e(482),{...this[e(522)]},{keepalive:!0}))}[t(471)](){const e=t;this[e(415)][e(389)]((t=>t[e(401)]())),this[e(415)][e(374)](),this[e(514)]&&this[e(514)][e(401)](),this[e(492)]()}}class r{constructor(){const e=t;this[e(391)]=document.currentScript,this[e(474)]=this.scriptElement?.getAttribute("data-domain"),this[e(487)]=this[e(426)](),this[e(485)]=window[e(457)][e(418)],this[e(470)]=null,this[e(451)]=null,this[e(416)]=!1,this[e(526)](),this[e(410)]=new n(this),this[e(437)]()}getOrCreateClientId(){const e=t;try{let t=localStorage[e(449)](s[e(469)][e(475)]);return!t&&(t=""+crypto.randomUUID(),localStorage[e(377)](s[e(469)][e(475)],t)),t}catch(t){return console[e(428)](e(532),t),""+Math[e(510)]().toString(36)[e(381)](2,9)}}[t(453)](){const e=t;try{return""+crypto[e(467)]()}catch{return""+Math[e(510)]()[e(473)](36).substring(2,9)}}[t(422)](e){return Date[t(367)]()>=parseInt(e)}[t(526)](){const e=t;try{const t=localStorage.getItem(s[e(469)][e(409)]),i=localStorage[e(449)](s[e(469)].EXPIRATION);if(t&&i&&!this.isSessionExpired(i))this[e(470)]={sessionId:t,expirationTime:parseInt(i),startTime:Date[e(367)]()},this[e(535)](),this[e(466)](e(480));else{const t=this[e(453)](),i=Date[e(367)]()+s[e(398)];localStorage[e(377)](s.STORAGE_KEYS[e(409)],t),localStorage.setItem(s[e(469)][e(490)],i),this.session={sessionId:t,expirationTime:i,startTime:Date[e(367)]()},this.trackEvent(s.EVENTS[e(450)]),this[e(466)](e(417))}this[e(476)]=setInterval((()=>this.refreshSession()),s[e(398)]/2)}catch{}}[t(466)](e){const i=t,n=window.lynqQueue||[];n[i(413)]>0&&n.forEach((t=>{this[i(399)](e,t)})),delete window[i(489)],window[i(369)]={track:(t,e)=>this[i(399)](s[i(385)][i(431)],{name:t,eventId:crypto[i(467)](),properties:e})}}[t(501)](){const e=t;if(document.visibilityState===e(517)&&!this[e(416)]){const t=Date[e(367)]()+s[e(398)];try{localStorage.setItem(s.STORAGE_KEYS.EXPIRATION,t),this[e(470)][e(513)]=t}catch{}}}async trackEvent(e,s={},n={}){const r=t;if(this[r(416)])return;if(!this[r(470)]?.[r(427)]&&(await new Promise((t=>setTimeout(t,100))),!this[r(470)]?.[r(427)]))return;const o=new i,a={browser:o[r(392)](navigator[r(452)]),os:o[r(405)](navigator[r(452)])},c=document[r(373)][r(436)](window[r(457)].origin)?r(376):document[r(373)],h={event:e,timestamp:Date[r(367)](),url:window[r(457)][r(455)],pathname:window[r(457)][r(418)],referrer:c||r(376),dataDomain:this[r(474)],clientId:this.clientId,sessionId:this[r(470)].sessionId,pageLoadId:this[r(419)],userAgentData:a,eventData:s};return this[r(442)](h,n)}[t(442)](e){const i=t,n=new Blob([JSON[i(402)](e)],{type:i(368)});return navigator.sendBeacon(s[i(505)],n)}[t(535)](){const e=t;this.isDestroyed||(this[e(399)](s[e(385)].PAGE_VIEW),this[e(485)]=window[e(457)][e(418)])}[t(437)](){const e=t;this[e(419)]=crypto[e(467)](),window.addEventListener(e(465),this[e(535)]),this.mutationObserver=new MutationObserver((()=>{const t=e;!this[t(416)]&&window.location[t(418)]!==this[t(485)]&&this[t(535)]()})),this[e(451)][e(523)](document.documentElement,{childList:!0,subtree:!0}),window.addEventListener(e(390),(()=>{const t=e;this[t(399)](s[t(385)].SESSION_END,{sessionDuration:Date[t(367)]()-this.session[t(458)],currentUrl:window.location[t(455)]},{keepalive:!0})}))}destroy(){const e=t;this[e(416)]=!0,this.sessionInterval&&clearInterval(this[e(476)]),window[e(478)](e(465),this[e(535)]),this[e(451)]&&this.mutationObserver[e(401)](),this[e(410)]?.[e(471)]&&this[e(410)][e(471)]()}}const o=new r;window[t(503)]=(...e)=>o[t(399)](...e)}()}();
